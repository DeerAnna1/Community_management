"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[54],{2054:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticStyle:{width:"50%",margin:"20px auto"}},[e("div",{staticStyle:{color:"#333333","font-size":"20px","font-weight":"700"}},[t._v(t._s(t.departmentData.name)+"：社团介绍，欢迎你的加入！ "),e("el-button",{attrs:{type:"primary"},on:{click:t.init}},[t._v("申请加入")])],1),e("div",{staticStyle:{"margin-top":"10px",color:"#767474"}},[t._v("发布时间："+t._s(t.departmentData.time))]),e("div",{staticStyle:{"margin-top":"30px"},domProps:{innerHTML:t._s(t.departmentData.description)}})]),e("el-dialog",{attrs:{title:"填写信息",visible:t.fromVisible,width:"40%","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.fromVisible=e}}},[e("el-form",{staticStyle:{"padding-right":"50px"},attrs:{"label-width":"100px"}},[e("el-form-item",{attrs:{prop:"description",label:"申请说明"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.fromVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},r=[],o={data(){let t=this.$route.query.id;return{user:JSON.parse(localStorage.getItem("user")||"{}"),departmentData:{},departmentId:t,fromVisible:!1,description:null}},mounted(){this.loadDepartment()},methods:{loadDepartment(){this.$request.get("/department/selectById/"+this.departmentId).then((t=>{"200"===t.code?this.departmentData=t.data:this.$notify.error(t.msg)}))},init(){this.fromVisible=!0},save(){let t={userId:this.user.id,departmentId:this.departmentId,description:this.description};this.$request.post("/apply/add",t).then((t=>{"200"===t.code?(this.$notify.success("申请成功，待审核，您可以在“申请的社团”内查看审核进度"),this.fromVisible=!1):this.$notify.error(t.msg)}))}}},a=o,n=i(1656),l=(0,n.A)(a,s,r,!1,null,null,null),d=l.exports}}]);
//# sourceMappingURL=54.1808c145.js.map