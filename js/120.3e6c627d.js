"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[120],{2120:function(t,e,l){l.r(e),l.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticStyle:{width:"70%",margin:"10px auto"}},[e("div",{staticStyle:{"font-size":"18px",height:"80px","line-height":"80px","border-bottom":"1px solid #e7e6e6"}},[t._v("我的申请记录（"+t._s(t.tableData.length)+"）")]),e("div",{staticStyle:{"margin-top":"20px"}},[e("el-table",{attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"80",align:"center",sortable:""}}),e("el-table-column",{attrs:{prop:"departmentName",label:"申请的社团"}}),e("el-table-column",{attrs:{prop:"status",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(l){return["审核通过"===l.row.status?e("el-button",{attrs:{type:"success",size:"mini"}},[t._v(t._s(l.row.status))]):t._e(),"审核不通过"===l.row.status?e("el-button",{attrs:{size:"mini"}},[t._v(" "+t._s(l.row.status))]):t._e(),"待审核"===l.row.status?e("el-button",{attrs:{type:"warning",size:"mini"}},[t._v(t._s(l.row.status))]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"description",label:"申请说明","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"process",label:"当前进度"}}),e("el-table-column",{attrs:{prop:"note",label:"审核说明","show-overflow-tooltip":""}}),"USER"===t.user.role?e("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-button",{attrs:{plain:"",type:"primary",disabled:"待审核"!==l.row.status,size:"mini"},on:{click:function(e){return t.del(l.row.id)}}},[t._v("撤销申请")])]}}],null,!1,3568746525)}):t._e()],1)],1)])])},a=[],r={data(){this.$route.query.id;return{user:JSON.parse(localStorage.getItem("user")||"{}"),tableData:[]}},mounted(){this.loadApply()},methods:{loadApply(){this.$request.get("/apply/selectMyApply").then((t=>{"200"===t.code?this.tableData=t.data:this.$message.error(t.msg)}))},del(t){this.$confirm("您确定撤销申请吗？","确认撤销",{type:"warning"}).then((e=>{this.$request.delete("/apply/delete/"+t).then((t=>{"200"===t.code?(this.$notify.success("操作成功"),this.loadApply()):this.$notify.error(t.msg)}))})).catch((()=>{}))}}},o=r,n=l(1656),i=(0,n.A)(o,s,a,!1,null,null,null),u=i.exports}}]);
//# sourceMappingURL=120.3e6c627d.js.map